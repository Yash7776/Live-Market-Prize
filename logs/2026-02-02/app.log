[I 260202 10:03:22 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 10:03:37 consumers:336] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 10:03:37 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 10:03:37 consumers:418] Historical fetch exception: object of type 'NoneType' has no len()
[W 260202 10:04:00 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 10:04:00 smartConnect:124] in pool
[E 260202 10:04:01 connection:111] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 10:04:02 connection:111] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 10:04:22 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 10:04:34 consumers:336] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 10:04:35 consumers:343] Historical data fetched - 50 candles
[I 260202 10:04:35 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 10:04:35 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 10:04:35 consumers:397] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 10:04:35 consumers:439] Signal generated for 99926000 (99926000): BUY - +DI 25.34 > 20 (strong uptrend) | Current position: NONE
[I 260202 10:04:35 consumers:498] Position opened: LONG 99926000 @ 25348.05 (qty: 1)
[I 260202 10:04:35 consumers:457] Simulated BUY entry for 99926000 @ 25348.05
[I 260202 10:04:35 consumers:439] Signal generated for 99926000 (99926000): BUY - MACD line 30.6986 > 0 (bullish) | Current position: LONG
[E 260202 10:52:56 connection:111] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 10:53:17 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 10:53:29 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 10:53:29 consumers:353] Historical data fetched - 50 candles
[I 260202 10:53:29 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 10:53:29 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 10:53:29 consumers:398] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[E 260202 10:53:29 consumers:449] Failed to create position in DB: Position() got unexpected keyword arguments: 'side'
[E 260202 10:53:29 consumers:449] Failed to create position in DB: Position() got unexpected keyword arguments: 'side'
[I 260202 11:00:12 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:00:31 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:00:31 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 11:00:31 consumers:417] Historical fetch exception: object of type 'NoneType' has no len()
[I 260202 11:01:10 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:01:28 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:01:28 consumers:353] Historical data fetched - 50 candles
[I 260202 11:01:28 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 11:01:28 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 11:01:28 consumers:398] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 11:01:28 consumers:446] DB Position OPENED: LONG 99926000 (99926000) @ 25348.05
[I 260202 11:16:55 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:17:05 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:17:06 consumers:353] Historical data fetched - 50 candles
[E 260202 11:17:06 consumers:417] Historical fetch exception: 'Position' object has no attribute 'side'
[I 260202 11:20:48 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:21:02 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:21:03 consumers:353] Historical data fetched - 50 candles
[E 260202 11:21:03 consumers:417] Historical fetch exception: 'Position' object has no attribute 'side'
[I 260202 11:21:30 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:21:45 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:21:45 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 11:21:45 consumers:417] Historical fetch exception: object of type 'NoneType' has no len()
[W 260202 11:21:53 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 11:21:53 smartConnect:124] in pool
[I 260202 11:21:59 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:22:03 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:22:12 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:22:12 consumers:353] Historical data fetched - 50 candles
[E 260202 11:22:12 consumers:417] Historical fetch exception: 'Position' object has no attribute 'side'
[I 260202 11:24:35 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:24:48 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:24:48 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 11:24:48 consumers:417] Historical fetch exception: object of type 'NoneType' has no len()
[I 260202 11:25:12 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:25:26 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:25:26 consumers:353] Historical data fetched - 50 candles
[I 260202 11:25:26 strategies:48] ADX Signal: None
[I 260202 11:25:26 strategies:78] MACD Signal: None
[I 260202 11:25:26 consumers:398] Strategy check for 99926000: ADX=None, MACD=None, CurrentSide=None
[I 260202 11:27:09 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:27:22 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:27:22 consumers:353] Historical data fetched - 50 candles
[I 260202 11:27:22 strategies:48] ADX Signal: None
[I 260202 11:27:22 strategies:78] MACD Signal: None
[I 260202 11:27:22 consumers:398] Strategy check for 99926000: ADX=None, MACD=None, CurrentSide=None
[E 260202 11:28:34 connection:111] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 11:28:34 connection:111] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 11:28:40 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:28:40 smartConnect:124] in pool
[I 260202 11:28:47 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:29:01 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:29:02 consumers:417] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 11:29:29 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:29:40 consumers:346] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:29:40 consumers:353] Historical data fetched - 50 candles
[E 260202 11:29:40 consumers:417] Historical fetch exception: 'Position' object has no attribute 'side'
[I 260202 11:32:03 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:32:15 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:32:15 consumers:338] Historical data fetched - 50 candles
[I 260202 11:32:15 strategies:48] ADX Signal: None
[I 260202 11:32:15 strategies:78] MACD Signal: None
[I 260202 11:32:15 consumers:384] Strategy check for 99926000: ADX=None, MACD=None, CurrentSide=OPEN
[I 260202 11:40:49 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:41:15 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:41:16 consumers:338] Historical data fetched - 50 candles
[I 260202 11:41:16 strategies:48] ADX Signal: None
[I 260202 11:41:16 strategies:78] MACD Signal: None
[I 260202 11:41:16 consumers:384] Strategy check for 99926000: ADX=None, MACD=None, CurrentSide=OPEN
[I 260202 11:44:29 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:44:40 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:44:41 consumers:338] Historical data fetched - 39 candles
[I 260202 11:44:41 strategies:48] ADX Signal: {'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}
[I 260202 11:44:41 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}
[I 260202 11:44:41 consumers:384] Strategy check for 3025: ADX={'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 11:44:41 consumers:430] DB Position OPENED: SHORT 3025 (3025) @ 135.98
[I 260202 11:53:48 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:53:58 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:53:58 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 11:53:58 consumers:403] Historical fetch exception: object of type 'NoneType' has no len()
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 338, in handle_get_historical
        logger.info(f"Historical data fetched - {len(candle_data.get('data', []))} candles")
                                                 ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    TypeError: object of type 'NoneType' has no len()
[I 260202 11:54:31 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:54:52 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:54:52 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 11:55:52 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:56:15 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:56:15 consumers:338] Historical data fetched - 39 candles
[I 260202 11:56:15 strategies:48] ADX Signal: None
[I 260202 11:56:15 strategies:78] MACD Signal: None
[I 260202 11:56:15 consumers:384] Strategy check for 3025: ADX=None, MACD=None, CurrentSide=OPEN
[W 260202 11:56:54 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 11:56:54 smartConnect:124] in pool
[I 260202 11:57:00 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:57:04 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:57:22 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 11:57:22 consumers:338] Historical data fetched - 39 candles
[I 260202 11:57:22 strategies:48] ADX Signal: {'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}
[I 260202 11:57:22 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}
[I 260202 11:57:22 consumers:384] Strategy check for 3025: ADX={'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 11:57:22 consumers:430] DB Position OPENED: SHORT 3025 (3025) @ 135.98
[I 260202 11:59:36 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 11:59:54 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 11:59:54 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 11:59:54 consumers:403] Historical fetch exception: object of type 'NoneType' has no len()
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 338, in handle_get_historical
        logger.info(f"Historical data fetched - {len(candle_data.get('data', []))} candles")
                                                 ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    TypeError: object of type 'NoneType' has no len()
[I 260202 12:00:16 connection:67] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:00:24 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 12:00:24 consumers:338] Historical data fetched - 39 candles
[I 260202 12:00:24 strategies:48] ADX Signal: {'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}
[I 260202 12:00:24 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}
[I 260202 12:00:24 consumers:384] Strategy check for 3025: ADX={'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 12:00:24 consumers:430] DB Position OPENED: SHORT 3025 (3025) @ 135.98
[I 260202 12:04:14 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:04:39 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:04:39 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[W 260202 12:04:53 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 12:04:53 smartConnect:124] in pool
[E 260202 12:04:56 connection:141] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 12:04:56 connection:141] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 12:04:58 connection:141] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 12:04:58 connection:141] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 12:04:58 connection:141] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 12:05:01 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:05:02 connection:41] Login SUCCESS - Auth Token: Bearer eyJhbGciOiJIU... | Feed Token: eyJhbGciOiJIUzUxMiJ9...
[I 260202 12:05:25 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:05:49 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:05:49 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 12:05:49 consumers:403] Historical fetch exception: object of type 'NoneType' has no len()
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 338, in handle_get_historical
        logger.info(f"Historical data fetched - {len(candle_data.get('data', []))} candles")
                                                 ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    TypeError: object of type 'NoneType' has no len()
[I 260202 12:06:09 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:06:29 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:06:29 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 12:07:05 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:07:24 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 12:07:24 consumers:338] Historical data fetched - 39 candles
[I 260202 12:07:24 strategies:48] ADX Signal: {'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}
[I 260202 12:07:24 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}
[I 260202 12:07:24 consumers:384] Strategy check for 3025: ADX={'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 12:07:24 consumers:443] Opened SHORT 3025 @ 135.98 | Target=133.94 | SL=137.34
[I 260202 12:23:02 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:23:17 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 12:23:17 consumers:338] Historical data fetched - 39 candles
[I 260202 12:23:17 strategies:48] ADX Signal: {'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}
[I 260202 12:23:17 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}
[I 260202 12:23:17 consumers:384] Strategy check for 3025: ADX={'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 12:23:17 consumers:443] Opened SHORT 3025 @ 135.98 | Target=133.94 | SL=137.34
[I 260202 12:26:19 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:26:32 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:26:32 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[W 260202 12:26:47 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 12:26:48 smartConnect:124] in pool
[I 260202 12:26:53 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:26:59 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:27:33 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:27:50 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:27:50 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 12:27:50 consumers:403] Historical fetch exception: object of type 'NoneType' has no len()
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 338, in handle_get_historical
        logger.info(f"Historical data fetched - {len(candle_data.get('data', []))} candles")
                                                 ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    TypeError: object of type 'NoneType' has no len()
[W 260202 12:27:54 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 12:27:54 smartConnect:124] in pool
[I 260202 12:28:20 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:28:36 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3025', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 12:28:36 consumers:338] Historical data fetched - 39 candles
[I 260202 12:28:36 strategies:48] ADX Signal: {'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}
[I 260202 12:28:36 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}
[I 260202 12:28:36 consumers:384] Strategy check for 3025: ADX={'action': 'SELL', 'reason': '-DI 20.35 > 20 (strong downtrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.0951 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 12:28:36 consumers:443] Opened SHORT 3025 @ 135.98 | Target=133.94 | SL=137.34
[I 260202 12:32:06 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:32:23 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:32:23 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 12:32:45 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:33:00 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:33:00 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 12:34:09 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:34:34 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 12:34:34 consumers:403] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 12:35:13 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 12:35:26 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 12:35:27 consumers:338] Historical data fetched - 50 candles
[I 260202 12:35:27 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 12:35:27 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 12:35:27 consumers:384] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 12:35:27 consumers:443] Opened LONG 99926000 @ 25348.05 | Target=25728.27 | SL=25094.57
[I 260202 13:59:28 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 13:59:41 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 13:59:41 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[W 260202 13:59:45 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 13:59:45 smartConnect:124] in pool
[I 260202 13:59:51 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:00:13 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:00:25 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:00:25 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 14:01:10 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:01:21 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 14:01:22 consumers:338] Historical data fetched - 50 candles
[I 260202 14:01:22 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 14:01:22 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 14:01:22 consumers:386] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 14:01:22 consumers:445] Opened LONG 99926000 @ 25348.05 | Target=25728.27 | SL=25094.57
[I 260202 14:15:06 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:15:38 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:15:38 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[W 260202 14:15:48 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 14:15:48 smartConnect:124] in pool
[E 260202 14:15:49 connection:186] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 14:16:13 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:16:30 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:16:30 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 14:17:17 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:17:41 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:17:41 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[W 260202 14:17:57 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 14:18:07 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:19:10 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:19:38 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3325', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 14:19:38 consumers:338] Historical data fetched - 50 candles
[I 260202 14:19:38 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 27.82 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 14:19:38 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 0.4575 > 0 (bullish)'}
[I 260202 14:19:38 consumers:386] Strategy check for 3325: ADX={'action': 'BUY', 'reason': '+DI 27.82 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 0.4575 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 14:19:38 consumers:449] Opened LONG 3325 @ 152.00 | Lots=1 | Qty=50 | Target=154.28 | SL=150.48
[I 260202 14:20:58 connection:69] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:21:19 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 14:21:19 consumers:338] Historical data fetched - 50 candles
[I 260202 14:21:19 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 14:21:19 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 14:21:19 consumers:386] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 14:21:19 consumers:449] Opened LONG 99926000 @ 25348.05 | Lots=1 | Qty=50 | Target=25728.27 | SL=25094.57
[I 260202 14:35:24 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:35:44 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:35:44 smartConnect:246] Error occurred while making a POST request to https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData. Error: Something Went Wrong, Please Try After Sometime. URL: https://apiconnect.angelone.in/rest/secure/angelbroking/historical/v1/getCandleData, Headers: {'Content-type': 'application/json', 'X-ClientLocalIP': '127.0.0.1', 'X-ClientPublicIP': '106.193.147.98', 'X-MACAddress': '30:9c:23:7c:86:e1', 'Accept': 'application/json', 'X-PrivateKey': 'iARx2hbi', 'X-UserType': 'USER', 'X-SourceID': 'WEB'}, Request: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}, Response: {'message': 'Something Went Wrong, Please Try After Sometime', 'errorcode': 'AB1004', 'status': False, 'data': None}
[E 260202 14:35:44 consumers:405] Historical fetch exception: object of type 'NoneType' has no len()
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 338, in handle_get_historical
        logger.info(f"Historical data fetched - {len(candle_data.get('data', []))} candles")
                                                 ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    TypeError: object of type 'NoneType' has no len()
[I 260202 14:36:10 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:36:18 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:36:18 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 14:36:47 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:37:03 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '99926000', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 14:37:04 consumers:338] Historical data fetched - 50 candles
[I 260202 14:37:04 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 14:37:04 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}
[I 260202 14:37:04 consumers:386] Strategy check for 99926000: ADX={'action': 'BUY', 'reason': '+DI 25.34 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 30.6986 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 14:37:04 consumers:453] Opened LONG Nifty 50 @ 25348.05 | Lots=1 | Qty=50 | Target=25728.27 | SL=25094.57
[I 260202 14:41:33 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:41:45 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[E 260202 14:41:45 consumers:405] Historical fetch exception: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 230, in _request
        data = json.loads(r.content.decode("utf8"))
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\__init__.py", line 346, in loads
        return _default_decoder.decode(s)
               ~~~~~~~~~~~~~~~~~~~~~~~^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 345, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                   ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "C:\Users\Admin\AppData\Local\Programs\Python\Python314\Lib\json\decoder.py", line 363, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\asgiref\sync.py", line 361, in main_wrap
        raise exc_info[1]
      File "D:\Yash\smart_trading\market\consumers.py", line 333, in handle_get_historical
        candle_data = self.smart_api.getCandleData(historic_params)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 465, in getCandleData
        getCandleDataResponse=self._postRequest("api.candle.data",historicDataParams)
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 263, in _postRequest
        return self._request(route, "POST", params)
               ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
      File "D:\Yash\smart_trading\myvenv\Lib\site-packages\SmartApi\smartConnect.py", line 233, in _request
        raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
            content=r.content))
    SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[W 260202 14:41:52 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 14:41:52 smartConnect:124] in pool
[I 260202 14:41:58 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:42:02 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:42:07 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 14:42:08 consumers:338] Historical data fetched - 50 candles
[I 260202 14:42:08 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 14:42:08 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 14:42:08 consumers:386] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 14:42:08 consumers:453] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 14:52:06 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 14:52:22 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 14:52:22 consumers:338] Historical data fetched - 50 candles
[I 260202 14:52:22 consumers:388] [TEST] Forcing exit on token 3045 @ 1067.65
[I 260202 14:52:22 consumers:513] Position CLOSED | Token=3045 | Exit price=1067.65 | Exit time=2026-02-02 09:22:22.856225+00:00 | Qty=50 | MTM=250.00 | Reason=TEST: Forced exit to verify saving
[I 260202 14:52:22 strategies:48] ADX Signal: None
[I 260202 14:52:22 strategies:78] MACD Signal: None
[I 260202 14:52:22 consumers:399] Strategy check for 3045: ADX=None, MACD=None, CurrentSide=OPEN
[I 260202 15:03:07 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:03:45 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:03:46 consumers:338] Historical data fetched - 50 candles
[I 260202 15:03:46 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 15:03:46 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 15:03:46 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 15:03:46 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 15:04:52 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:05:05 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:05:05 consumers:338] Historical data fetched - 50 candles
[I 260202 15:05:05 consumers:388] [TEST] Forcing exit on token 3045 @ 1067.65
[I 260202 15:05:05 consumers:513] Position CLOSED | Token=3045 | Exit price=1067.65 | Exit time=2026-02-02 09:35:05.566913+00:00 | Qty=50 | MTM=250.00 | Reason=TEST: Forced exit to verify saving
[I 260202 15:05:05 strategies:48] ADX Signal: None
[I 260202 15:05:05 strategies:78] MACD Signal: None
[I 260202 15:05:05 consumers:399] Strategy check for 3045: ADX=None, MACD=None, CurrentSide=OPEN
[I 260202 15:22:36 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 15:25:55 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 15:25:56 smartConnect:124] in pool
[I 260202 15:26:01 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 15:26:02 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 15:26:03 smartConnect:124] in pool
[I 260202 15:26:08 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 15:26:10 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 15:26:11 smartConnect:124] in pool
[I 260202 15:26:16 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[E 260202 15:26:21 connection:169] WebSocket Error: Connection closed
[W 260202 15:26:21 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 15:26:21 connection:169] WebSocket Error: Connection closed
[W 260202 15:26:21 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[I 260202 15:27:27 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:27:27 consumers:338] Historical data fetched - 50 candles
[I 260202 15:27:27 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 15:27:27 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 15:27:27 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 15:27:27 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 15:30:05 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:30:24 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:30:25 consumers:338] Historical data fetched - 50 candles
[I 260202 15:30:25 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 15:30:25 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 15:30:25 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 15:30:25 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 15:40:53 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:41:06 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:41:07 consumers:338] Historical data fetched - 50 candles
[I 260202 15:41:07 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 15:41:07 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 15:41:07 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 15:41:07 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[W 260202 15:43:37 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 15:43:37 smartConnect:124] in pool
[I 260202 15:43:44 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:43:47 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 15:44:01 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 15:44:01 smartConnect:124] in pool
[I 260202 15:44:28 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:44:58 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:44:58 consumers:338] Historical data fetched - 50 candles
[I 260202 15:44:58 strategies:48] ADX Signal: None
[I 260202 15:44:58 strategies:78] MACD Signal: None
[I 260202 15:44:58 consumers:399] Strategy check for 3045: ADX=None, MACD=None, CurrentSide=OPEN
[I 260202 15:47:05 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 15:47:40 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 15:47:40 consumers:338] Historical data fetched - 50 candles
[I 260202 15:47:40 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 15:47:40 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 15:47:40 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 15:47:40 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 15:59:12 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:00:09 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:00:09 consumers:338] Historical data fetched - 50 candles
[I 260202 16:00:09 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:00:09 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:00:09 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:00:09 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 16:00:11 consumers:513] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 10:30:11.306608+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 16:00:11 connection:153] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[I 260202 16:02:16 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:02:16 consumers:338] Historical data fetched - 50 candles
[I 260202 16:02:16 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:02:16 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:02:16 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:02:16 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 16:03:00 consumers:513] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 10:33:00.347841+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 16:03:00 connection:153] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[I 260202 16:10:27 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 16:11:50 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:11:50 smartConnect:124] in pool
[I 260202 16:11:57 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:12:00 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 16:12:40 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:12:40 smartConnect:124] in pool
[I 260202 16:12:46 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:12:50 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:13:32 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:13:32 consumers:338] Historical data fetched - 50 candles
[I 260202 16:13:32 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:13:32 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:13:32 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:13:32 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[W 260202 16:14:41 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:14:41 smartConnect:124] in pool
[I 260202 16:14:47 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:14:48 consumers:513] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 10:44:48.573112+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 16:14:48 connection:153] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[E 260202 16:14:51 connection:169] WebSocket Error: Connection closed
[W 260202 16:14:51 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 16:14:51 connection:169] WebSocket Error: Connection closed
[W 260202 16:14:51 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[I 260202 16:15:51 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:16:20 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:16:20 consumers:338] Historical data fetched - 50 candles
[I 260202 16:16:20 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:16:20 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:16:20 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:16:20 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[W 260202 16:20:33 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:20:43 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:23:59 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:24:29 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:24:30 consumers:338] Historical data fetched - 50 candles
[I 260202 16:24:30 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:24:30 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:24:30 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:24:30 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[W 260202 16:25:25 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:25:25 smartConnect:124] in pool
[I 260202 16:25:32 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:25:32 smartConnect:124] in pool
[E 260202 16:25:33 connection:193] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[E 260202 16:25:33 connection:193] Critical error in connection setup: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
[I 260202 16:25:38 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:26:02 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:26:30 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:26:31 consumers:338] Historical data fetched - 50 candles
[I 260202 16:26:31 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:26:31 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:26:31 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:26:31 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[W 260202 16:27:29 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:27:40 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:32:42 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:33:19 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:33:19 consumers:338] Historical data fetched - 50 candles
[I 260202 16:33:19 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:33:19 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:33:19 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:33:20 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 16:39:41 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:40:09 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 16:40:09 consumers:338] Historical data fetched - 50 candles
[I 260202 16:40:09 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 16:40:09 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 16:40:09 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 16:40:09 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[W 260202 16:42:53 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:42:53 smartConnect:124] in pool
[I 260202 16:43:00 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:43:03 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 16:43:08 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:43:08 smartConnect:124] in pool
[I 260202 16:43:14 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:43:18 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 16:43:18 consumers:513] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 11:13:18.872699+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 16:43:18 connection:175] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[W 260202 16:43:39 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 16:43:39 smartConnect:124] in pool
[I 260202 16:43:47 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[E 260202 16:43:49 connection:198] WebSocket Error: Connection closed
[W 260202 16:43:49 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 16:43:49 connection:198] WebSocket Error: Connection closed
[W 260202 16:43:49 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[I 260202 16:43:50 connection:58] Created token-to-symbol map with 203278 entries
[I 260202 16:43:50 connection:59] Instrument list fetched - 225975 entries
[W 260202 16:43:50 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[E 260202 16:44:00 connection:198] WebSocket Error: Connection closed
[W 260202 16:44:00 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 16:44:00 connection:198] WebSocket Error: Connection closed
[W 260202 16:44:00 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 16:44:00 connection:198] WebSocket Error: Connection closed
[W 260202 16:44:00 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[I 260202 17:27:11 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 17:28:30 consumers:335] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 17:28:30 consumers:342] Historical data fetched - 50 candles
[I 260202 17:28:30 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 17:28:30 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 17:28:30 consumers:403] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 17:28:30 consumers:470] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 17:39:26 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 17:43:08 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 17:43:54 consumers:335] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 17:43:55 consumers:342] Historical data fetched - 50 candles
[I 260202 17:43:55 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 17:43:55 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 17:43:55 consumers:403] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 17:43:55 consumers:470] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 17:52:43 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 17:53:21 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 17:53:22 smartConnect:124] in pool
[I 260202 17:53:28 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 17:53:30 consumers:517] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 12:23:30.099130+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 17:53:30 connection:175] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[I 260202 17:53:31 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 17:55:41 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 17:56:15 consumers:335] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 17:56:15 consumers:342] Historical data fetched - 50 candles
[I 260202 17:56:15 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 17:56:15 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 17:56:15 consumers:403] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 17:56:15 consumers:470] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 18:01:06 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:01:18 consumers:517] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 12:31:18.177499+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 18:01:18 connection:175] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[W 260202 18:03:13 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 18:03:14 smartConnect:124] in pool
[I 260202 18:03:19 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:03:23 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:23:40 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:24:09 consumers:331] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 18:24:10 consumers:338] Historical data fetched - 50 candles
[I 260202 18:24:10 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 18:24:10 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 18:24:10 consumers:399] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 18:24:10 consumers:466] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 18:29:43 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:30:09 consumers:517] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 13:00:09.863942+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 18:30:09 connection:175] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[W 260202 18:30:28 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 18:30:29 smartConnect:124] in pool
[I 260202 18:30:35 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:30:39 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:31:19 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:34:51 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:36:05 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:36:21 consumers:337] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 18:36:22 consumers:344] Historical data fetched - 50 candles
[I 260202 18:36:22 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 18:36:22 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 18:36:22 consumers:405] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 18:36:22 consumers:472] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 18:38:12 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:38:55 consumers:337] Fetching historical candles with params: {'exchange': 'NSE', 'symboltoken': '3045', 'interval': 'FIFTEEN_MINUTE', 'fromdate': '2026-01-25 09:00', 'todate': '2026-01-28 15:30'}
[I 260202 18:38:55 consumers:344] Historical data fetched - 50 candles
[I 260202 18:38:55 strategies:48] ADX Signal: {'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}
[I 260202 18:38:55 strategies:78] MACD Signal: {'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}
[I 260202 18:38:55 consumers:405] Strategy check for 3045: ADX={'action': 'BUY', 'reason': '+DI 25.24 > 20 (strong uptrend)', 'confidence': 'high'}, MACD={'action': 'BUY', 'reason': 'MACD line 2.8855 > 0 (bullish)'}, CurrentSide=NONE
[I 260202 18:38:55 consumers:472] Opened LONG SBIN-EQ @ 1062.65 | Lots=1 | Qty=50 | Target=1078.59 | SL=1052.02
[I 260202 18:42:07 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[I 260202 18:42:57 consumers:519] Position CLOSED | Token=3045 | Exit price=1028.70 | Exit time=2026-02-02 13:12:57.300972+00:00 | Qty=50 | MTM=1697.50 | Reason=Stoploss hit
[I 260202 18:42:57 connection:175] AUTO EXIT | Stoploss hit | SBIN-EQ (3045) | Price=1028.70
[I 260202 18:43:50 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[W 260202 18:53:41 smartWebSocketV2:318] Attempting to resubscribe/reconnect (Attempt 1)...
[I 260202 18:53:52 connection:76] SmartAPI WebSocket Opened - Ready for subscriptions
[E 260202 18:54:30 connection:198] WebSocket Error: Connection closed
[W 260202 18:54:30 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 18:54:30 connection:198] WebSocket Error: Connection closed
[W 260202 18:54:30 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
[E 260202 18:54:30 connection:198] WebSocket Error: Connection closed
[W 260202 18:54:30 smartWebSocketV2:342] Connection closed due to max retry attempts reached.
